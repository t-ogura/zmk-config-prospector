# Copyright (c) 2024 The ZMK Contributors
# SPDX-License-Identifier: MIT

# Ultra-simple display test with PWM backlight
# Restored PWM control as it was the only reliable method

# Disable Bluetooth to simplify
CONFIG_BT=n

# Enable basic display driver for testing
CONFIG_DISPLAY=y

# Disable ZMK display features completely
CONFIG_ZMK_DISPLAY=n

# Disable LVGL completely
CONFIG_LVGL=n

# Enable PWM for backlight only
CONFIG_PWM=y

# Enable SPI for display communication
CONFIG_SPI=y

# Enable GPIO
CONFIG_GPIO=y

# More verbose logging for troubleshooting
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=4
CONFIG_LOG_MAX_LEVEL=4
CONFIG_SERIAL=y
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_SPI_LOG_LEVEL_DBG=y
CONFIG_PWM_LOG_LEVEL_DBG=y
CONFIG_GPIO_LOG_LEVEL_DBG=y
CONFIG_ZMK_LOG_LEVEL_DBG=y
CONFIG_DISPLAY_LOG_LEVEL_DBG=y

# Disable split keyboard features
CONFIG_ZMK_SPLIT=n

# Disable unused prospector features
CONFIG_PROSPECTOR_USE_AMBIENT_LIGHT_SENSOR=n

# Ensure sensor is not enabled
CONFIG_SENSOR=n