# Prospector Scanner - Step 3: CUSTOM screen
# Goal: Match display_test's working CUSTOM screen

# Display Configuration
CONFIG_ZMK_DISPLAY=y
CONFIG_DISPLAY=y
CONFIG_LVGL=y

# Step 3: Use CUSTOM screen (like display_test)
CONFIG_ZMK_DISPLAY_STATUS_SCREEN_CUSTOM=y

# LVGL memory pool
CONFIG_LV_Z_MEM_POOL_SIZE=32768

# Reduce screen flickering with double buffering and larger buffer
CONFIG_LV_Z_DOUBLE_VDB=y
CONFIG_LV_Z_VDB_SIZE=30

# Display thread stack
CONFIG_ZMK_DISPLAY_WORK_QUEUE_DEDICATED=y
CONFIG_ZMK_DISPLAY_DEDICATED_THREAD_STACK_SIZE=8192
CONFIG_MAIN_STACK_SIZE=4096

# GPIO for backlight
CONFIG_GPIO=y

# LVGL widgets for BUILT_IN screen
CONFIG_LV_USE_LABEL=y
CONFIG_LV_USE_BAR=y
CONFIG_LV_USE_FLEX=y

# LVGL widgets for touch mode settings screens
CONFIG_LV_USE_SLIDER=y
CONFIG_LV_USE_SWITCH=y
CONFIG_LV_USE_BUTTON=y

# Fonts (including montserrat_28 for custom_status_screen.c)
CONFIG_LV_FONT_MONTSERRAT_12=y
CONFIG_LV_FONT_MONTSERRAT_16=y
CONFIG_LV_FONT_MONTSERRAT_18=y
CONFIG_LV_FONT_MONTSERRAT_20=y
CONFIG_LV_FONT_MONTSERRAT_28=y
CONFIG_LV_FONT_DEFAULT_MONTSERRAT_20=y

# Unscii fonts for custom_status_screen.c
CONFIG_LV_FONT_UNSCII_8=y
CONFIG_LV_FONT_UNSCII_16=y

# Debugging
CONFIG_LOG=y
CONFIG_ZMK_USB_LOGGING=y
CONFIG_FAULT_DUMP=2
CONFIG_EXTRA_EXCEPTION_INFO=y

# Disable some optional features
CONFIG_ZMK_SPLIT=n
CONFIG_ZMK_STUDIO=n
CONFIG_PM_DEVICE=n

# PWM backlight brightness control
CONFIG_PWM=y
CONFIG_LED=y
CONFIG_LED_PWM=y

# Step 4: Enable Scanner Mode
CONFIG_BT=y
CONFIG_BT_OBSERVER=y
CONFIG_PROSPECTOR_MODE_SCANNER=y
CONFIG_PROSPECTOR_TOUCH_ENABLED=y

# Touch panel drivers (auto-selected by PROSPECTOR_TOUCH_ENABLED)
# INPUT, INPUT_CST816S, INPUT_CST816S_INTERRUPT, ZMK_POINTING
CONFIG_I2C=y
